<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
<title>基督堂中学开放日｜成语拼拼乐</title>
<style>
  :root{
    --bg:#faf4e1;
    --ink:#3b2f2a;
    --accent:#c95b16;
    --chip:#ffe0b2;
    --chip-border:#f4c48e;
    --slot:#ffffff;
    --ok:#2e7d32;
    --offset: 8vh; /* 控制整体上下位置 */
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
  body{
    margin:0; background:var(--bg); color:var(--ink);
    font-family:"Noto Sans SC", system-ui, -apple-system, "PingFang SC", "Microsoft YaHei", sans-serif;
    display:flex; flex-direction:column; align-items:center;
    padding:2vh 4vw;
    overflow-x:hidden;   /* 避免水平滚动 */
  }

  .stage{
    width:100%;
    display:flex;
    flex-direction:column;
    align-items:center;
    margin-top: var(--offset);
    transform-origin: top center;
  }

  .title-1{font-size:clamp(22px,5vw,36px);font-weight:900;margin:2px 0;color:#2f3e46}
  .title-2{font-size:clamp(20px,4.4vw,30px);font-weight:800;margin:4px 0 8px;color:var(--accent)}
  .sub{font-size:clamp(14px,2.8vw,18px);opacity:.9;margin:2px 0 12px;text-align:center;}

  #idiom-slot{
    display:flex;justify-content:center;gap:3vw;margin:8px 0 6px;
    min-height:12vw;flex-wrap:wrap;
  }
  .slot{
    width:18vw;max-width:80px;aspect-ratio:1;
    background:var(--slot);border:3px dashed #b7b7b7;border-radius:16px;
    display:flex;align-items:center;justify-content:center;
    font-size:clamp(28px,7vw,46px);font-weight:800;user-select:none;
    box-shadow:0 1px 0 rgba(0,0,0,.04);
    cursor:pointer;
    touch-action:none;
  }

  #choices{
    display:flex;flex-wrap:wrap;justify-content:center;
    gap:3vw;margin:14px auto;max-width:95vw;
  }
  .char{
    min-width:15vw;max-width:70px;aspect-ratio:1;
    font-size:clamp(24px,6vw,38px);font-weight:800;
    background:var(--chip);border:2px solid var(--chip-border);
    border-radius:14px;display:inline-flex;align-items:center;justify-content:center;
    user-select:none;transition:transform .06s ease;cursor:grab;
    -webkit-user-drag:element;
    touch-action:none;
  }
  .char:active{transform:scale(.96);}
  .char[aria-disabled="true"]{opacity:.35;cursor:not-allowed;}

  #controls{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:6px 0 2px;}
  button{
    appearance:none;border:0;border-radius:12px;padding:10px 14px;
    font-size:16px;font-weight:800;cursor:pointer;
    background:var(--accent);color:#fff;box-shadow:0 2px 0 rgba(0,0,0,.08);
  }
  button.secondary{background:#e2b887;color:#3a2b21;}

  #feedback{min-height:28px;margin:8px 0 2px;font-weight:900;font-size:20px;color:var(--ok);text-align:center;}

  #win-overlay{
    position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.25);z-index:20;
  }
  .win-card{
    background:#fff;padding:22px 20px;border-radius:18px;text-align:center;
    box-shadow:0 10px 30px rgba(0,0,0,.18);animation:pop .4s ease;
  }
  .win-title{font-size:34px;font-weight:900;color:var(--accent);margin:2px 0 8px;}
  .win-note{font-size:17px;margin:0 0 14px;}
  .win-btn{margin-top:4px;font-size:16px;}
  @keyframes pop{from{transform:scale(.9);opacity:0;}to{transform:scale(1);opacity:1;}}

  .confetti{
    position:fixed;top:-10px;width:10px;height:16px;
    background:hsl(var(--h) 80% 60%);left:var(--x);transform:rotate(var(--r));
    animation:fall linear forwards;z-index:25;border-radius:2px;
  }
  @keyframes fall{to{transform:translateY(110vh) rotate(calc(var(--r) + 1turn));opacity:.9;}}

  /* 平板或桌面可稍微放大 */
  @media (min-width:800px){
    .stage{transform:scale(1.1);}
    .slot{max-width:86px;}
    .char{max-width:70px;}
  }

  /* 超大屏幕 */
  @media (min-width:1200px){
    .stage{transform:scale(1.2);}
  }

  .follow-card{
    position:fixed;left:0;top:0;transform:translate(-9999px,-9999px);
    z-index:1000;pointer-events:none;will-change:transform;
  }
</style>
</head>
<body>

<div class="stage">
  <div class="title-1">基督堂中学开放日</div>
  <div class="title-2">成语拼拼乐</div>
  <p class="sub">把下方字卡拖拽到上方方格；把方格里的字拖回下方可撤回。拼出正确成语即可获胜！</p>

  <div id="idiom-slot"></div>
  <div id="choices"></div>
  <div id="controls">
    <button id="resetBtn" class="secondary">换一题</button>
  </div>
  <div id="feedback"></div>
</div>

<div id="win-overlay">
  <div class="win-card">
    <div class="win-title">🎉 恭喜你！</div>
    <p class="win-note">你成功拼出了正确的成语！</p>
    <button class="win-btn" id="againBtn">再玩一次</button>
  </div>
</div>

<!-- 你原本的 JavaScript 保持不变 -->
<script>
  /* （这里保留你的原始 JS 部分，不用修改） */
</script>

</body>
</html>
